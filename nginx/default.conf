server {
    listen 80;
    server_name localhost;

    location / {
        add_header Content-Type "text/html; charset=utf-8";
        return 200 '
<html lang="ru">
<head>
    <meta charset="utf-8">
    <title>SockStore API</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            max-width: 900px;
            margin: 40px auto;
            padding: 0 20px;
            line-height: 1.6;
            color: #333;
        }
        h1 {
            color: #e74c3c;
            border-bottom: 2px solid #eee;
            padding-bottom: 10px;
        }
        h2 {
            margin-top: 30px;
            color: #2c3e50;
        }
        .endpoint {
            background: #f8f9fa;
            padding: 16px;
            border-left: 4px solid #3498db;
            margin: 16px 0;
            border-radius: 0 4px 4px 0;
        }
        .method {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 4px;
            font-weight: bold;
            color: white;
            margin-right: 8px;
        }
        .get { background: #2ecc71; }
        .post { background: #e67e22; }
        code {
            background: #f1f1f1;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: monospace;
            word-break: break-all;
        }
        pre {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 14px;
            border-radius: 6px;
            overflow-x: auto;
        }
    </style>
</head>
<body>
    <h1>üõí SockStore API</h1>
    <p>REST API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–∞—Ç–∞–ª–æ–≥–æ–º –Ω–æ—Å–∫–æ–≤. –í—Å–µ –æ—Ç–≤–µ—Ç—ã –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π UTF-8.</p>

    <h2>üìö –î–æ—Å—Ç—É–ø–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã</h2>

    <div class="endpoint">
        <span class="method get">GET</span>
        <code>/api/health</code>
        <p>–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–∏—Å–∞.</p>
        <pre>curl http://localhost:8080/api/health</pre>
    </div>

    <div class="endpoint">
        <span class="method get">GET</span>
        <code>/api/socks</code>
        <p>–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –Ω–æ—Å–∫–æ–≤.</p>
        <pre>curl http://localhost:8080/api/socks</pre>
    </div>

    <div class="endpoint">
        <span class="method get">GET</span>
        <code>/api/socks/{id}</code>
        <p>–ü–æ–ª—É—á–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –Ω–æ—Å–∫–∏ –ø–æ ID (–Ω–∞–ø—Ä–∏–º–µ—Ä, <code>/api/socks/1</code>).</p>
        <pre>curl http://localhost:8080/api/socks/1</pre>
    </div>

    <div class="endpoint">
        <span class="method post">POST</span>
        <code>/api/socks/{id}/purchase</code>
        <p>–ö—É–ø–∏—Ç—å –Ω–æ—Å–∫–∏ (–ø–æ–º–µ—Ç–∏—Ç—å –∫–∞–∫ ¬´–Ω–µ –≤ –Ω–∞–ª–∏—á–∏–∏¬ª). –¢—Ä–µ–±—É–µ—Ç ID –Ω–æ—Å–∫–æ–≤.</p>
        <pre>curl -X POST http://localhost:8080/api/socks/1/purchase</pre>
    </div>

    <hr style="margin: 40px 0;">
    <p><small>üí° –°–æ–≤–µ—Ç: –æ—Ç–∫—Ä–æ–π—Ç–µ –ª—é–±–æ–π —ç–Ω–¥–ø–æ–∏–Ω—Ç –≤ –±—Ä–∞—É–∑–µ—Ä–µ ‚Äî –æ–Ω –ø–æ–∫–∞–∂–µ—Ç —á–∏—Ç–∞–µ–º—ã–π JSON!</small></p>
</body>
</html>
        ';
    }

    location /api/ {
        proxy_pass http://backend:5000; 
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }

    location /static/ {
        alias /usr/share/nginx/html/static/;
    }
}